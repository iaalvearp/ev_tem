---
import 'photoswipe/style.css';

const { imgW, imgH, pic1, pic2, pic3, pic4, pic5, pic6 } = Astro.props;

interface Props {
  imgW: string,
  imgH: string,
  pic1: string,
  pic2: string,
  pic3: string,
  pic4: string,
  pic5: string,
  pic6: string,
}

---

<script>
    import PhotoSwipeLightbox from 'photoswipe/lightbox';

    const lightbox = new PhotoSwipeLightbox({
        gallery: '#gallery',
        children: 'a',
        pswpModule: () => import('photoswipe')
    });
    lightbox.init();
</script>

<h2 class="text-center text-[var(--text)] text-2xl py-8">Nuestros momentos</h2>
<section class="pswp-gallery pswp-gallery--single-column" id="gallery">
    <a href={pic1} 
      data-pswp-width={imgW} 
      data-pswp-height={imgH} 
      target="_blank">
      <img src={pic1} alt="" />
    </a>
    <a href={pic2} 
      data-pswp-width={imgW} 
      data-pswp-height={imgH} 
      target="_blank">
      <img src={pic2} alt="" />
    </a>
    <a href={pic3} 
      data-pswp-width={imgW} 
      data-pswp-height={imgH} 
      target="_blank">
      <img src={pic3} alt="" />
    </a>
    <a href={pic4} 
      data-pswp-width={imgW} 
      data-pswp-height={imgH} 
      target="_blank">
      <img src={pic4} alt="" />
    </a>
    <a href={pic5} 
      data-pswp-width={imgW} 
      data-pswp-height={imgH} 
      target="_blank">
      <img src={pic5} alt="" />
    </a>
    <a href={pic6} 
      data-pswp-width={imgW} 
      data-pswp-height={imgH} 
      target="_blank">
      <img src={pic6} alt="" />
    </a>
  </section >

<style>

  #gallery {
    width: 90%;
    height: 20rem;
    margin: 0 auto;
    display: flex;
    overflow-x: scroll;
    scroll-snap-type: x mandatory;
    border-radius: .25rem;
  }
  
  #gallery::-webkit-scrollbar {
    display: none;
  }
  
  a {
    aspect-ratio: 4/3;
    display: block;
    width: 100%;
    object-fit: cover;
  }
  
  img {
    height: 100%;
    width: 100%;
    object-position: center;
    object-fit: cover;
    scroll-snap-align: center;
  }
  
  @media (width >= 48rem) {      
      #gallery {
          width: 90%;
          height: 100%;
          max-width: 48rem;
          overflow: unset;
          gap: 1rem;
          margin: 0 auto;
          display: grid;
          grid-auto-rows: 22rem;
          grid-template-columns: repeat(auto-fill, minmax(min(100%, 15rem), 1fr));
      }

      a {
        aspect-ratio: 1/1;
      }
      img {
          object-fit: cover;
          width: 100%;
          height: 100%;
          border-radius: .25rem;
      }
    }

    @media (width >= 1080px ) {
      a {
        aspect-ratio: 3/4;
      }
    }
</style>